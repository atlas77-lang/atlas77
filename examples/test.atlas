package test;

using System;
using System.Collections.Generic;


concept IAffichable
{
    fn afficher_informations();
}

concept Animal: 
{
    public:
        nom: std::string;
        age: int32;
        espece: std::string?;

    public:
        Animal(nom: std::string, age: int32, espece: std::string? = null) {
            self.nom = nom;
            self.age = age;
            self.espece = espece;
        }
}

class Dog : Animal
{
    public String Race { get; set; }
    public Dog(string race, string nom, int age, string? espece = null) : base(nom, age, espece)
    {
        Race = race;
    }

    public void AfficherInformations()
    {
        Console.WriteLine($"Nom: {Nom}, Age: {Age}, Espece: {Espece ?? "Pas d'espèce"}");
        //<Variable> ?? valeur_default permet de pouvoir check si c'est null 
        // et si oui on met la valeur par défaut à droite
    }
}

class Refuge<T> 
{
    public List<T> animaux = new List<T>();

    public void AjouterAnimal(T animal)
    {
        animaux.Add(animal);
    }
    
    public List<T> GetAll()
    {
        return animaux;
    }
}
class Prog
{
    static void Main(string[] args)
    {
        //create a list of dogs 
        List<Dog> dogs = new List<Dog>();

        dogs.Add(new Dog("Labrador", "Max", 2, "Chien"));
        dogs.Add(new Dog("Bulldog", "Rocky", 3, "Chien"));
        //On peut aussi faire ça grace au "string? espece = null"
        dogs.Add(new Dog("Chiuhauha", "Lili", 5));

        Refuge<Dog> refuge = new Refuge<Dog>();
        
        for(int i = 0; i < dogs.Count; i++)
        {
          dogs[i].AfficherInformations();
          refuge.AjouterAnimal(dogs[i]);
        } 
        //On a pas vu ça, mais ça fait la meme chose que la boucle d'au dessus
        foreach(Dog dog in dogs)
        {
            dog.AfficherInformations();
            refuge.AjouterAnimal(dog);

        }

        List<Dog> allDogs = refuge.GetAll();
        
        Console.WriteLine(allDogs);

        
        
    }
}